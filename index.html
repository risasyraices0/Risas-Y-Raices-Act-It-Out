<script>
const playBtn = document.getElementById('playBtn');
const timerDisplay = document.getElementById('timer');

const clickSound = document.getElementById('clickSound');
const song = document.getElementById('song');
const endSound = document.getElementById('endSound');

let countdown;
let timeLeft = 30;

playBtn.addEventListener('click', () => {
  // Play click sound immediately
  clickSound.currentTime = 0;
  clickSound.play();

  // Reset timer
  clearInterval(countdown);
  timeLeft = 30;
  timerDisplay.textContent = timeLeft;

  // Play main song immediately
  song.currentTime = 0;
  song.play();

  // Stop main song after 30 seconds
  setTimeout(() => {
    song.pause();
    song.currentTime = 0;
  }, 30000);

  // Play end sound at 29 seconds
  setTimeout(() => {
    endSound.currentTime = 0;
    endSound.play();
  }, 29000);

  // Countdown timer
  countdown = setInterval(() => {
    timeLeft--;
    timerDisplay.textContent = timeLeft;
    if (timeLeft <= 0) clearInterval(countdown);
  }, 1000);
});
</script>
